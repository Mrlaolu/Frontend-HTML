# iCalligraphy 前端代码规范

## 一、文件命名规范

### HTML文件
- 使用小写字母和下划线：`index.html`、`work_detail.html`、`auth.html`
- 页面文件统一放在 `templates/` 目录下

### CSS文件
- 使用小写字母和连字符：`main.css`、`work-detail.css`
- 样式文件统一放在 `static/css/` 目录下
- 每个页面可对应一个独立的CSS文件

### JavaScript文件
- 使用小写字母和连字符：`main.js`、`work-detail.js`
- 脚本文件统一放在 `static/js/` 目录下
- 每个页面可对应一个独立的JS文件

### 图片资源
- 使用小写字母和连字符：`logo.png`、`default-avatar.jpg`
- 图片资源统一放在 `static/images/` 目录下

---

## 二、HTML规范

### 基本结构
- 使用HTML5文档类型：`<!DOCTYPE html>`
- 必须包含 `<meta charset="UTF-8">`
- 必须包含视口标签：`<meta name="viewport" content="width=device-width, initial-scale=1.0">`

### 代码风格
- 使用2个空格缩进（不使用Tab）
- 标签名和属性名使用小写
- 属性值使用双引号
- 自闭合标签必须闭合：`<img />`、`<input />`
- 块级元素和行内元素正确嵌套

### 语义化标签
- 优先使用语义化标签：`<header>`、`<nav>`、`<main>`、`<section>`、`<article>`、`<footer>`
- 合理使用 `<h1>` 到 `<h6>` 标题层级

### 注释规范
```html
<!-- 页面头部导航 -->
<header>
  <!-- 导航内容 -->
</header>
```

---

## 三、CSS规范

### 代码风格
- 使用2个空格缩进
- 选择器与 `{` 之间保留一个空格
- 属性名后使用冒号和空格
- 每个属性独占一行
- 最后一个属性后加分号
- `}` 单独一行

### 示例
```css
.work-item {
  width: 300px;
  height: 400px;
  margin: 10px;
  border: 1px solid #ddd;
}
```

### 命名规范
- 类名使用小写字母和连字符（BEM风格）：`.work-item`、`.work-item__title`、`.work-item--active`
- ID名使用小写字母和连字符：`#main-content`、`#user-profile`
- 避免使用拼音，使用英文单词

### 选择器优先级
- 避免使用 `!important`（特殊情况除外）
- 避免过深的选择器嵌套（最多3层）
- 优先使用类选择器，避免ID选择器

### 响应式设计
- 使用媒体查询实现响应式布局
- 移动端优先（Mobile First）
- 断点统一：`768px`（平板）、`1024px`（桌面）

---

## 四、JavaScript规范

### 代码风格
- 使用2个空格缩进
- 使用单引号定义字符串
- 语句末尾必须加分号
- 变量和函数名使用驼峰命名：`getUserInfo()`、`workList`
- 常量使用大写字母和下划线：`MAX_UPLOAD_SIZE`、`API_BASE_URL`

### 变量声明
- 优先使用 `const`，需要重新赋值时使用 `let`
- 避免使用 `var`
- 变量名要有意义，避免单字母变量（循环变量除外）

### 函数规范
- 函数名使用动词开头：`getData()`、`handleSubmit()`、`validateForm()`
- 函数参数超过3个时，使用对象传参
- 函数内部逻辑复杂时，拆分为多个小函数

### 异步处理
- 使用 `async/await` 处理异步操作
- 必须处理错误情况（使用 `try-catch`）
- AJAX请求统一封装，统一错误处理

### 注释规范
```javascript
/**
 * 获取作品列表
 * @param {number} page - 页码
 * @param {number} limit - 每页数量
 * @returns {Promise} 返回作品列表数据
 */
async function getWorkList(page, limit) {
  // 实现逻辑
}
```

### DOM操作
- 优先使用 `querySelector` 和 `querySelectorAll`
- 避免频繁操作DOM，使用文档片段（DocumentFragment）批量操作
- 事件监听使用 `addEventListener`，避免内联事件

---

## 五、目录结构规范

```
Frontend-HTML/
├── templates/          # HTML模板文件
│   ├── index.html
│   ├── auth.html
│   └── ...
├── static/            # 静态资源
│   ├── css/           # 样式文件
│   ├── js/            # JavaScript文件
│   ├── images/        # 图片资源
│   └── upload_imgs/   # 上传的图片（运行时生成）
└── Docs/              # 文档目录
```

---

## 六、其他注意事项

### 性能优化
- 图片使用合适格式（JPG/PNG/WebP），控制文件大小
- CSS和JavaScript文件在生产环境应压缩
- 避免阻塞渲染的脚本，使用 `defer` 或 `async`

### 兼容性
- 支持现代浏览器（Chrome、Firefox、Edge最新版本）
- 使用 `babel` 或类似工具处理ES6+语法（如需要）

### 安全性
- 用户输入必须进行验证和转义，防止XSS攻击
- 敏感信息不在前端代码中硬编码
- AJAX请求使用HTTPS（生产环境）

### 代码提交
- 提交前检查代码格式和语法错误
- 提交信息清晰明确，说明修改内容
- 避免提交临时文件和调试代码

---

## 七、常用工具和约定

### 代码格式化
- 使用编辑器自动格式化功能
- 保持代码风格一致

### 浏览器调试
- 使用浏览器开发者工具进行调试
- 控制台输出使用 `console.log()`、`console.error()` 等
- 生产环境移除调试代码

### API接口调用
- 统一使用封装的AJAX函数
- 接口地址使用配置变量，便于环境切换
- 统一处理错误响应和网络异常

---

**最后更新：2024年**


<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>社区 · iCalligraphy</title>
    <link rel="stylesheet" href="/static/css/main.css" />
    <link rel="stylesheet" href="/static/css/community.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="container header-inner">
        <a class="brand" href="/"><span class="brand-logo">藝</span><span class="brand-text">iCalligraphy</span></a>
        <nav class="nav">
          <a href="/">首页</a>
          <a href="/work-upload">作品上传</a>
          <a href="/search">检索</a>
          <a href="/my-collections">我的字集</a>
          <a href="/profile">个人中心</a>
          <a href="/community" class="active">社区</a>
          <a href="/review-center">审核中心</a>
          <a href="/auth" class="auth-link">登录/注册</a>
        </nav>
      </div>
    </header>

    <main class="container community-main">
      <!-- 页面标题 -->
      <section class="community-header">
        <h1>书法社区</h1>
        <p class="subtitle">分享交流心得，记录练习历程，共同探索书法艺术</p>
      </section>

      <!-- 每日打卡区域 -->
      <section class="daily-checkin">
        <div class="checkin-card">
          <div class="checkin-header">
            <h2>每日打卡</h2>
            <span class="streak-badge">已连续打卡 <strong id="streakDays">0</strong> 天</span>
          </div>
          <div class="checkin-content">
            <p class="checkin-tip">坚持每日练字，养成良好习惯</p>
            <button id="checkinBtn" class="btn btn-primary btn-large">
              <span class="btn-icon">✓</span>
              <span class="btn-text">今日打卡</span>
            </button>
            <p class="checkin-status" id="checkinStatus"></p>
          </div>
          <div class="checkin-calendar">
            <div class="calendar-days" id="calendarDays">
              <!-- 日历网格将由 JavaScript 生成 -->
            </div>
          </div>
        </div>
      </section>

      <!-- 发帖区域 -->
      <section class="post-composer">
        <div class="composer-card">
          <h3>发布新帖</h3>
          <div class="composer-form">
            <input type="text" id="postTitle" class="input-field" placeholder="标题（选填）" maxlength="100" />
            <textarea id="postContent" class="textarea-field" placeholder="分享你的书法心得、练习成果或提出问题..." rows="4" maxlength="2000"></textarea>
            <div class="composer-footer">
              <div class="char-count">
                <span id="charCount">0</span> / 2000
              </div>
              <button id="publishBtn" class="btn btn-primary">发布</button>
            </div>
          </div>
        </div>
      </section>

      <!-- 帖子筛选 -->
      <section class="post-filters">
        <div class="filter-tabs">
          <button class="filter-tab active" data-filter="all">全部</button>
          <button class="filter-tab" data-filter="hot">热门</button>
          <button class="filter-tab" data-filter="latest">最新</button>
          <button class="filter-tab" data-filter="following">关注</button>
        </div>
        <div class="filter-search">
          <input type="search" id="postSearch" placeholder="搜索帖子..." />
        </div>
      </section>

      <!-- 帖子列表 -->
      <section class="posts-list" id="postsList">
        <!-- 示例帖子 1 -->
        <article class="post-card">
          <div class="post-header">
            <div class="post-author">
              <div class="author-avatar" aria-hidden="true">王</div>
              <div class="author-info">
                <h4 class="author-name">王墨客</h4>
                <p class="post-time">2小时前</p>
              </div>
            </div>
            <button class="post-menu-btn" aria-label="更多操作">⋯</button>
          </div>
          <div class="post-body">
            <h3 class="post-title">初学楷书，请前辈指点</h3>
            <p class="post-content">最近开始练习欧体楷书，感觉横画总是写不平，求教各位老师该如何改进？有没有什么练习技巧？</p>
          </div>
          <div class="post-footer">
            <button class="post-action" data-action="like">
              <span class="action-icon">👍</span>
              <span class="action-count">23</span>
            </button>
            <button class="post-action" data-action="comment">
              <span class="action-icon">💬</span>
              <span class="action-count">8</span>
            </button>
            <button class="post-action" data-action="share">
              <span class="action-icon">↗</span>
              <span class="action-text">分享</span>
            </button>
          </div>

          <!-- 评论区（默认折叠） -->
          <div class="comments-section hidden">
            <div class="comment-composer">
              <input type="text" class="comment-input" placeholder="写下你的评论..." />
              <button class="btn btn-small">发送</button>
            </div>
            <div class="comments-list">
              <div class="comment-item">
                <div class="comment-avatar" aria-hidden="true">李</div>
                <div class="comment-body">
                  <div class="comment-header">
                    <span class="comment-author">李墨香</span>
                    <span class="comment-time">1小时前</span>
                  </div>
                  <p class="comment-text">建议多看田英章老师的视频教程，注意手腕的运用，横画要平稳。</p>
                  <button class="comment-like">
                    <span class="action-icon">👍</span>
                    <span class="action-count">5</span>
                  </button>
                </div>
              </div>
              <div class="comment-item">
                <div class="comment-avatar" aria-hidden="true">张</div>
                <div class="comment-body">
                  <div class="comment-header">
                    <span class="comment-author">张书生</span>
                    <span class="comment-time">30分钟前</span>
                  </div>
                  <p class="comment-text">欧体确实讲究横平竖直，建议先练习基本笔画，慢慢来不要急。</p>
                  <button class="comment-like">
                    <span class="action-icon">👍</span>
                    <span class="action-count">3</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- 示例帖子 2 -->
        <article class="post-card">
          <div class="post-header">
            <div class="post-author">
              <div class="author-avatar" aria-hidden="true">赵</div>
              <div class="author-info">
                <h4 class="author-name">赵字痴</h4>
                <p class="post-time">5小时前</p>
              </div>
            </div>
            <button class="post-menu-btn" aria-label="更多操作">⋯</button>
          </div>
          <div class="post-body">
            <p class="post-content">今天练了两个小时的《兰亭序》，感觉行书的韵味越来越能把握了。书法真是一门需要长期坚持的艺术啊！</p>
          </div>
          <div class="post-footer">
            <button class="post-action" data-action="like">
              <span class="action-icon">👍</span>
              <span class="action-count">67</span>
            </button>
            <button class="post-action" data-action="comment">
              <span class="action-icon">💬</span>
              <span class="action-count">15</span>
            </button>
            <button class="post-action" data-action="share">
              <span class="action-icon">↗</span>
              <span class="action-text">分享</span>
            </button>
          </div>

          <div class="comments-section hidden">
            <div class="comment-composer">
              <input type="text" class="comment-input" placeholder="写下你的评论..." />
              <button class="btn btn-small">发送</button>
            </div>
            <div class="comments-list"></div>
          </div>
        </article>

        <!-- 示例帖子 3 -->
        <article class="post-card">
          <div class="post-header">
            <div class="post-author">
              <div class="author-avatar" aria-hidden="true">孙</div>
              <div class="author-info">
                <h4 class="author-name">孙笔墨</h4>
                <p class="post-time">1天前</p>
              </div>
            </div>
            <button class="post-menu-btn" aria-label="更多操作">⋯</button>
          </div>
          <div class="post-body">
            <h3 class="post-title">分享一些书法工具的选购经验</h3>
            <p class="post-content">初学者选毛笔建议从兼毫开始，既有弹性又易于控制。纸张的话，元书纸性价比不错。墨汁推荐一得阁，研墨的话可以选松烟墨。大家有什么其他推荐吗？</p>
          </div>
          <div class="post-footer">
            <button class="post-action" data-action="like">
              <span class="action-icon">👍</span>
              <span class="action-count">102</span>
            </button>
            <button class="post-action" data-action="comment">
              <span class="action-icon">💬</span>
              <span class="action-count">34</span>
            </button>
            <button class="post-action" data-action="share">
              <span class="action-icon">↗</span>
              <span class="action-text">分享</span>
            </button>
          </div>

          <div class="comments-section hidden">
            <div class="comment-composer">
              <input type="text" class="comment-input" placeholder="写下你的评论..." />
              <button class="btn btn-small">发送</button>
            </div>
            <div class="comments-list"></div>
          </div>
        </article>
      </section>

      <!-- 加载更多 -->
      <div class="load-more">
        <button class="btn btn-secondary" id="loadMoreBtn">加载更多</button>
      </div>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <p>© 2025 iCalligraphy · 传统与创新并重</p>
        <p class="note">本页为示例界面，真实数据与交互将在后续接入。</p>
      </div>
    </footer>

    <script src="/static/js/main.js" defer></script>
    <script src="/static/js/community.js" defer></script>
  </body>
</html>